<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAG-FLE Interactive Framework</title>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Load Babel for JSX support in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.3s ease-out; }
    </style>
</head>
<body class="bg-slate-50 overflow-hidden">
    <div id="root" class="h-screen w-full"></div>

    <script type="text/babel">
        // --- Setup ---
        const { useState, useEffect, useRef } = React;

        // --- Configuration ---
        // ⚠️ NOTE: To use the AI Analyst, insert your Google Gemini API Key below
        const GEMINI_API_KEY = "AIzaSy..."; 

        // --- Icons (Inline to avoid CDN dependency issues) ---
        const IconBase = ({ children, size = 24, className = "", ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className} 
                {...props}
            >
                {children}
            </svg>
        );

        const Server = (props) => (
            <IconBase {...props}>
                <rect width="20" height="8" x="2" y="2" rx="2" ry="2" />
                <rect width="20" height="8" x="2" y="14" rx="2" ry="2" />
                <line x1="6" x2="6.01" y1="6" y2="6" />
                <line x1="6" x2="6.01" y1="18" y2="18" />
            </IconBase>
        );

        const Cpu = (props) => (
            <IconBase {...props}>
                <rect x="4" y="4" width="16" height="16" rx="2" />
                <rect x="9" y="9" width="6" height="6" />
                <path d="M15 2v2" /><path d="M15 20v2" /><path d="M2 15h2" /><path d="M2 9h2" />
                <path d="M20 15h2" /><path d="M20 9h2" /><path d="M9 2v2" /><path d="M9 20v2" />
            </IconBase>
        );

        const Database = (props) => (
            <IconBase {...props}>
                <ellipse cx="12" cy="5" rx="9" ry="3" />
                <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3" />
                <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" />
            </IconBase>
        );

        const Shield = (props) => (
            <IconBase {...props}>
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
            </IconBase>
        );

        const ShieldCheck = (props) => (
            <IconBase {...props}>
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
                <path d="m9 12 2 2 4-4" />
            </IconBase>
        );

        const Activity = (props) => (
            <IconBase {...props}>
                <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
            </IconBase>
        );

        const Zap = (props) => (
            <IconBase {...props}>
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
            </IconBase>
        );

        const Users = (props) => (
            <IconBase {...props}>
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                <circle cx="9" cy="7" r="4" />
                <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </IconBase>
        );

        const Leaf = (props) => (
            <IconBase {...props}>
                <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.77 10-10 10Z" />
                <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12" />
            </IconBase>
        );

        const Wifi = (props) => (
            <IconBase {...props}>
                <path d="M5 12.55a11 11 0 0 1 14.08 0" />
                <path d="M1.42 9a16 16 0 0 1 21.16 0" />
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0" />
                <line x1="12" x2="12.01" y1="20" y2="20" />
            </IconBase>
        );

        const Lock = (props) => (
            <IconBase {...props}>
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
            </IconBase>
        );

        const ArrowUp = (props) => (
            <IconBase {...props}>
                <path d="m5 12 7-7 7 7" />
                <path d="M12 19V5" />
            </IconBase>
        );

        const Info = (props) => (
            <IconBase {...props}>
                <circle cx="12" cy="12" r="10" />
                <path d="M12 16v-4" />
                <path d="M12 8h.01" />
            </IconBase>
        );

        const Sparkles = (props) => (
            <IconBase {...props}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
            </IconBase>
        );

        const X = (props) => (
            <IconBase {...props}>
                <path d="M18 6 6 18" />
                <path d="m6 6 12 12" />
            </IconBase>
        );

        const Bot = (props) => (
            <IconBase {...props}>
                <path d="M12 8V4H8" />
                <rect width="16" height="12" x="4" y="8" rx="2" />
                <path d="M2 14h2" />
                <path d="M20 14h2" />
                <path d="M15 13v2" />
                <path d="M9 13v2" />
            </IconBase>
        );

        // --- Components ---

        const Tooltip = ({ children, content }) => {
            const [show, setShow] = useState(false);
            return (
                <div className="relative inline-block" onMouseEnter={() => setShow(true)} onMouseLeave={() => setShow(false)}>
                    {children}
                    {show && (
                        <div className="absolute z-50 w-64 p-2 mt-2 text-xs text-white bg-slate-800 rounded shadow-xl -left-1/2 transform translate-x-1/4 border border-slate-600">
                            {content}
                        </div>
                    )}
                </div>
            );
        };

        const Packet = ({ start, end, progress, encrypted, color }) => {
            const x = start.x + (end.x - start.x) * progress;
            const y = start.y + (end.y - start.y) * progress;

            return (
                <div 
                    className="absolute w-4 h-4 rounded-full shadow-lg flex items-center justify-center transition-all duration-75"
                    style={{ 
                        left: `${x}%`, 
                        top: `${y}%`, 
                        backgroundColor: encrypted ? '#F59E0B' : color,
                        boxShadow: encrypted ? '0 0 10px #F59E0B' : `0 0 5px ${color}`
                    }}
                >
                    {encrypted ? <Lock size={10} color="white" /> : null}
                </div>
            );
        };

        const DeviceNode = ({ type, id, active, eis, onClick, x, y, label, load }) => {
            const getIcon = () => {
                switch (type) {
                    case 'L1': return <Cpu size={24} />;
                    case 'L2': return <Database size={28} />;
                    case 'L3': return <Server size={32} />;
                    default: return <Cpu />;
                }
            };

            const getColor = () => {
                if (type === 'L1') return 'bg-emerald-600';
                if (type === 'L2') return 'bg-blue-600';
                return 'bg-indigo-600';
            };

            return (
                <div 
                    onClick={() => onClick(id)}
                    className={`absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-300 ${active ? 'scale-110 ring-4 ring-yellow-400' : 'hover:scale-105'}`}
                    style={{ left: `${x}%`, top: `${y}%` }}
                >
                    <div className={`flex flex-col items-center group`}>
                        <div className={`p-3 rounded-xl shadow-lg text-white ${getColor()} relative`}>
                            {getIcon()}
                            <div className="absolute -bottom-2 left-0 w-full h-1 bg-gray-700 rounded-full overflow-hidden">
                                <div className="h-full bg-yellow-400 transition-all duration-500" style={{ width: `${load}%` }} />
                            </div>
                        </div>
                        <div className="mt-2 text-xs font-bold text-slate-700 bg-white/80 px-2 py-1 rounded backdrop-blur-sm border border-slate-200">
                            {label}
                        </div>
                        {type === 'L1' && (
                            <div className="mt-1 text-[10px] text-emerald-700 font-mono bg-emerald-100 px-1 rounded">
                                EIS: {eis}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const AnalysisModal = ({ show, onClose, isAnalyzing, analysis }) => {
            if (!show) return null;
            return (
                <div className="absolute inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4">
                    <div className="bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]">
                        <div className="bg-gradient-to-r from-indigo-600 to-purple-600 p-4 flex justify-between items-center">
                            <div className="flex items-center gap-2 text-white">
                                <Bot size={24} />
                                <h3 className="font-bold text-lg">Eco-Insight AI Analyst</h3>
                            </div>
                            <button onClick={onClose} className="text-white/80 hover:text-white transition-colors">
                                <X size={20} />
                            </button>
                        </div>
                        <div className="p-6 overflow-y-auto flex-1">
                            {isAnalyzing ? (
                                <div className="flex flex-col items-center justify-center py-8 space-y-4">
                                    <div className="relative">
                                        <div className="w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"></div>
                                        <div className="absolute inset-0 flex items-center justify-center">
                                            <Sparkles size={16} className="text-indigo-600 animate-pulse" />
                                        </div>
                                    </div>
                                    <p className="text-sm text-slate-500 font-medium animate-pulse">Analyzing Green AI Metrics with Gemini...</p>
                                </div>
                            ) : (
                                <div className="prose prose-sm prose-indigo">
                                    <div className="text-slate-700 leading-relaxed whitespace-pre-line">
                                        {analysis}
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // --- Main App Component ---
        const App = () => {
            const [deviceCount, setDeviceCount] = useState(3);
            const [cutLayer, setCutLayer] = useState(2);
            const [securityEnabled, setSecurityEnabled] = useState(false);
            const [networkLoad, setNetworkLoad] = useState(20);
            const [selectedNode, setSelectedNode] = useState(null);
            const [simulationStep, setSimulationStep] = useState(0);
            const [showAnalysis, setShowAnalysis] = useState(false);
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [analysisResult, setAnalysisResult] = useState("");
            
            const [metrics, setMetrics] = useState({
                accuracy: 85.0,
                dataTransferred: 0,
                energySaved: 0,
                daoTreasury: 1000
            });

            const [devices, setDevices] = useState([]);
            const requestRef = useRef();
            const containerRef = useRef(null);

            const generateAnalysis = async () => {
                setShowAnalysis(true);
                
                if (!GEMINI_API_KEY) {
                    setAnalysisResult("⚠️ Configuration Required: Please open the HTML file source code and insert your Google Gemini API Key into the `GEMINI_API_KEY` variable.");
                    return;
                }

                setIsAnalyzing(true);
                setAnalysisResult("");

                const prompt = `You are the "Eco-Insight" AI advisor for the HAG-FLE (Green Federated Learning) system.
                
                Current System Telemetry:
                - Architecture: 3-Tier (TinyML -> Aggregators -> Global Server)
                - Active Edge Devices: ${deviceCount}
                - DSFL Cut Layer: ${cutLayer} (Scale 0-5: 0=Cloud Heavy, 5=Edge Heavy)
                - Privacy Mode: ${securityEnabled ? "Active (MIFE & Lightweight Crypto)" : "Disabled (Standard Transmission)"}
                - Network Latency: ${networkLoad}ms
                - Model Accuracy: ${metrics.accuracy.toFixed(1)}%
                - Energy Efficiency Score: ${metrics.energySaved.toFixed(2)}
                
                Task:
                Provide a concise, strategic analysis (bullet points) covering:
                1. **Sustainability:** How the current Cut Layer impacts edge device battery/energy.
                2. **Security:** The trade-off being made with the current Privacy Mode.
                3. **Optimization:** Recommend ONE specific setting change.
                
                Tone: Professional, technical, yet encouraging.`;

                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GEMINI_API_KEY}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    const data = await response.json();
                    if (data.error) throw new Error(data.error.message);
                    const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
                    setAnalysisResult(text || "No analysis generated.");
                } catch (error) {
                    setAnalysisResult(`⚠️ Error: ${error.message}`);
                } finally {
                    setIsAnalyzing(false);
                }
            };

            useEffect(() => {
                const newDevices = [];
                // L3
                newDevices.push({ id: 'L3', type: 'L3', label: 'Global Server', x: 50, y: 15, load: 20 });
                // L2
                newDevices.push({ id: 'L2_1', type: 'L2', label: 'Aggregator A', x: 30, y: 45, load: 30 });
                newDevices.push({ id: 'L2_2', type: 'L2', label: 'Aggregator B', x: 70, y: 45, load: 30 });
                // L1
                const startX = 10;
                const width = 80;
                const step = width / (deviceCount + 1);
                for (let i = 0; i < deviceCount; i++) {
                    newDevices.push({ 
                        id: `L1_${i}`, type: 'L1', label: `TinyML ${i+1}`, 
                        x: startX + step * (i + 1), y: 80,
                        eis: 75 + Math.floor(Math.random() * 20), tokens: 0, load: 40
                    });
                }
                setDevices(newDevices);
            }, [deviceCount]);

            useEffect(() => {
                const animate = () => {
                    setSimulationStep(prev => (prev + 1) % 200);
                    setMetrics(prev => ({
                        accuracy: Math.min(99, prev.accuracy + (securityEnabled ? 0.01 : 0.02)),
                        dataTransferred: prev.dataTransferred + (deviceCount * 0.5),
                        energySaved: prev.energySaved + (cutLayer > 2 ? 0.1 : 0.01),
                        daoTreasury: prev.daoTreasury + 0.5
                    }));

                    setDevices(prev => prev.map(d => {
                        let baseLoad = 10;
                        if (d.type === 'L1') baseLoad = (cutLayer / 5) * 90;
                        else if (d.type === 'L3') baseLoad = ((5 - cutLayer) / 5) * 80;
                        else baseLoad = 30 + (Math.sin(Date.now() / 1000) * 10);
                        
                        if (securityEnabled && d.type === 'L1') baseLoad += 15;
                        return { ...d, load: baseLoad };
                    }));
                    requestRef.current = requestAnimationFrame(animate);
                };
                requestRef.current = requestAnimationFrame(animate);
                return () => cancelAnimationFrame(requestRef.current);
            }, [cutLayer, securityEnabled, deviceCount]);

            const getPackets = () => {
                const packets = [];
                const speed = 200 - networkLoad;
                const progress = (simulationStep % speed) / speed;

                devices.filter(d => d.type === 'L1').forEach((l1) => {
                    const l2Target = l1.x < 50 ? devices.find(d => d.id === 'L2_1') : devices.find(d => d.id === 'L2_2');
                    const l3Target = devices.find(d => d.id === 'L3');
                    if (!l2Target || !l3Target) return;

                    if (progress < 0.5) {
                        packets.push({
                            id: `pkt_p1_${l1.id}`,
                            start: { x: l1.x, y: l1.y },
                            end: { x: l2Target.x, y: l2Target.y },
                            progress: progress * 2,
                            encrypted: securityEnabled,
                            color: '#10B981'
                        });
                    } else {
                        packets.push({
                            id: `pkt_p2_${l1.id}`,
                            start: { x: l2Target.x, y: l2Target.y },
                            end: { x: l3Target.x, y: l3Target.y },
                            progress: (progress - 0.5) * 2,
                            encrypted: securityEnabled,
                            color: '#3B82F6'
                        });
                    }
                });
                return packets;
            };

            return (
                <div className="flex flex-col h-full">
                    <AnalysisModal show={showAnalysis} onClose={() => setShowAnalysis(false)} isAnalyzing={isAnalyzing} analysis={analysisResult} />
                    
                    <header className="bg-slate-900 text-white p-4 shadow-lg z-10">
                        <div className="max-w-7xl mx-auto flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="bg-emerald-500 p-2 rounded-lg">
                                    <Leaf size={24} className="text-white" />
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold tracking-tight">HAG-FLE Interactive Framework</h1>
                                    <p className="text-xs text-slate-400">Green Federated Learning • Dynamic Split • DAO Governance</p>
                                </div>
                            </div>
                        </div>
                    </header>

                    <div className="flex-1 flex overflow-hidden">
                        {/* Sidebar Controls */}
                        <div className="w-80 bg-white border-r border-slate-200 p-6 flex flex-col gap-6 overflow-y-auto shadow-md z-10">
                            <div className="space-y-4">
                                <div className="flex items-center gap-2 mb-2"><Activity className="text-indigo-600" size={20} /><h2 className="font-bold text-lg">System Controls</h2></div>
                                
                                <div className="bg-slate-50 p-4 rounded-xl border border-slate-200">
                                    <div className="flex justify-between items-center mb-2"><span className="font-semibold text-sm">DSFL Model Cut Layer</span><span className="text-xs bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full">Layer {cutLayer}</span></div>
                                    <input type="range" min="0" max="5" value={cutLayer} onChange={(e) => setCutLayer(parseInt(e.target.value))} className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600" />
                                </div>

                                <div className="bg-slate-50 p-4 rounded-xl border border-slate-200">
                                    <div className="flex justify-between items-center mb-2"><span className="font-semibold text-sm flex items-center gap-2"><ShieldCheck size={16} className={securityEnabled ? "text-emerald-600" : "text-slate-400"} />Privacy (MIFE & LWC)</span>
                                    <button onClick={() => setSecurityEnabled(!securityEnabled)} className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${securityEnabled ? 'bg-emerald-600' : 'bg-slate-300'}`}><span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${securityEnabled ? 'translate-x-6' : 'translate-x-1'}`} /></button></div>
                                </div>

                                <div className="space-y-3">
                                    <div><label className="text-xs font-semibold text-slate-600 mb-1 block">Active TinyML Devices (L1)</label><input type="range" min="1" max="6" value={deviceCount} onChange={(e) => setDeviceCount(parseInt(e.target.value))} className="w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-emerald-500" /></div>
                                </div>
                            </div>
                        </div>

                        {/* Visualization */}
                        <div className="flex-1 relative bg-slate-100 overflow-hidden cursor-crosshair" ref={containerRef}>
                            <div className="absolute inset-0 opacity-10" style={{ backgroundImage: 'radial-gradient(#94a3b8 1px, transparent 1px)', backgroundSize: '20px 20px' }}></div>
                            <div className="absolute left-4 top-[15%] text-xs font-bold text-slate-400">L3: Cloud Layer</div>
                            <div className="absolute left-4 top-[45%] text-xs font-bold text-slate-400">L2: Fog/Aggregator Layer</div>
                            <div className="absolute left-4 top-[80%] text-xs font-bold text-slate-400">L1: Edge/TinyML Layer</div>

                            <svg className="absolute inset-0 w-full h-full pointer-events-none z-0">
                                {devices.filter(d => d.type === 'L2').map(l2 => {
                                    const l3 = devices.find(d => d.type === 'L3');
                                    return l3 ? <line key={`link-${l2.id}-${l3.id}`} x1={`${l2.x}%`} y1={`${l2.y}%`} x2={`${l3.x}%`} y2={`${l3.y}%`} stroke="#cbd5e1" strokeWidth="2" strokeDasharray="5,5" /> : null;
                                })}
                                {devices.filter(d => d.type === 'L1').map(l1 => {
                                    const l2 = l1.x < 50 ? devices.find(d => d.id === 'L2_1') : devices.find(d => d.id === 'L2_2');
                                    return l2 ? <line key={`link-${l1.id}-${l2.id}`} x1={`${l1.x}%`} y1={`${l1.y}%`} x2={`${l2.x}%`} y2={`${l2.y}%`} stroke="#cbd5e1" strokeWidth="1" /> : null;
                                })}
                            </svg>

                            {getPackets().map(pkt => <Packet key={pkt.id} {...pkt} />)}
                            {devices.map(device => <DeviceNode key={device.id} {...device} active={selectedNode === device.id} onClick={setSelectedNode} />)}
                            
                            {selectedNode && (
                                <div className="absolute top-4 right-4 w-64 bg-white/90 backdrop-blur rounded-xl shadow-xl border border-slate-200 p-4 z-20 animate-fade-in">
                                    <div className="flex justify-between items-start mb-2"><h3 className="font-bold text-slate-800">{devices.find(d => d.id === selectedNode)?.label}</h3><button onClick={() => setSelectedNode(null)} className="text-slate-400 hover:text-slate-600">×</button></div>
                                    <div className="space-y-2 text-xs text-slate-600">
                                        <div className="flex justify-between"><span>Type:</span><span className="font-mono bg-slate-100 px-1 rounded">{devices.find(d => d.id === selectedNode)?.type}</span></div>
                                        <div className="flex justify-between"><span>Load:</span><div className="w-24 bg-slate-200 rounded-full h-2 mt-1"><div className="bg-indigo-500 h-2 rounded-full" style={{width: `${devices.find(d => d.id === selectedNode)?.load}%`}}></div></div></div>
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* Right Sidebar */}
                        <div className="w-80 bg-white border-l border-slate-200 flex flex-col z-10">
                            <div className="p-6 border-b border-slate-200">
                                <div className="flex items-center gap-2 mb-4"><Zap className="text-yellow-500" size={20} /><h2 className="font-bold text-lg">System Performance</h2></div>
                                <div className="grid grid-cols-2 gap-3 mb-4">
                                    <div className="bg-slate-50 p-3 rounded-lg border border-slate-100"><div className="text-xs text-slate-500 mb-1">Model Accuracy</div><div className="text-xl font-bold text-slate-800">{metrics.accuracy.toFixed(1)}%</div></div>
                                    <div className="bg-slate-50 p-3 rounded-lg border border-slate-100"><div className="text-xs text-slate-500 mb-1">Data Processed</div><div className="text-xl font-bold text-slate-800">{(metrics.dataTransferred / 1024).toFixed(2)} GB</div></div>
                                    <div className="bg-slate-50 p-3 rounded-lg border border-slate-100"><div className="text-xs text-slate-500 mb-1">Latency</div><div className="text-xl font-bold text-slate-800">{(networkLoad + (securityEnabled ? 15 : 0))} ms</div></div>
                                </div>
                                <button onClick={generateAnalysis} disabled={isAnalyzing} className="w-full flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-3 rounded-xl hover:shadow-lg transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed group">
                                    {isAnalyzing ? <span>Thinking...</span> : <><Sparkles size={18} /> <span className="font-semibold text-sm">Analyze Sustainability</span></>}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
